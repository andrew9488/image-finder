{"version":3,"sources":["components/PhotoGalery/PhotoGallery.module.css","utils/themeMaterialUI.ts","components/Header/materialUIstyles.ts","bll/app-reducer.ts","api/api.ts","bll/auth-reducer.ts","components/Header/Header.tsx","components/Menu/materialUIstyles.ts","bll/photos-reducer.ts","components/SearchField/materialUIstyles.ts","components/SearchField/SearchField.tsx","utils/useDebounce.ts","components/Photo/materialUIStyles.ts","utils/localStorage.ts","bll/bookmarks-reducer.ts","assets/images/imageNotFound.png","components/Photo/Photo.tsx","components/PhotoGalery/PhotoGallery.tsx","utils/helpers/isBookmarksArr.ts","components/Pagination/materialUIstyles.ts","components/Pagination/Pagination.tsx","components/Preloader/materialUIstyles.ts","components/Preloader/Preloader.tsx","features/Main/Main.tsx","features/Bookmarks/Bookmarks.tsx","components/Error404/Error404.tsx","components/Routes/Routes.tsx","components/Menu/Menu.tsx","components/Footer/materialUIstyles.tsx","components/Footer/Footer.tsx","components/SleepMode/materialUIstyles.ts","components/SleepMode/SleepMode.tsx","app/App.tsx","utils/helpers/setSleepMode.ts","reportWebVitals.ts","bll/store.ts","index.tsx","app/App.module.css","features/Main/Main.module.css","components/Error404/Error404.module.css","features/Bookmarks/Bookmarks.module.css"],"names":["module","exports","theme","createMuiTheme","palette","createPalette","primary","main","secondary","light","useStyles","makeStyles","createStyles","root","flexGrow","title","fontSize","icon","color","initialState","status","error","setAppStatusAC","type","showAppErrorAC","apiKey","instance","axios","create","baseURL","photoAPI","tags","page","get","params","api_key","privacy_filter","extras","format","nojsoncallback","per_page","then","response","data","fullname","oauth_token","oauth_token_secret","user_nsid","username","Header","React","memo","classes","useDispatch","Date","getTime","Math","random","toString","substring","className","AppBar","position","Toolbar","Typography","variant","IconButton","aria-label","AccountCircle","maxWidth","height","tab","width","minWidth","photos","numberOfPages","currentPage","setCurrentPageAC","padding","marginBottom","input","SearchField","useSelector","state","app","dispatch","useState","value","setValue","debouncedValue","delay","setDebouncedValue","useEffect","timer","setTimeout","clearTimeout","useDebounce","trim","a","photo","pages","message","getPhotosTC","Paper","component","TextField","id","label","autoFocus","onChange","e","currentTarget","autoComplete","margin","display","flexDirection","alignItems","background","boxShadow","fontWeight","textAlign","media","marginTop","inputContainer","borderRadius","button","loadState","serializedState","localStorage","getItem","JSON","parse","err","loadedState","bookmarks","init","Photo","isBookmark","styles","isBookmarksGallery","colorButton","Card","length","slice","CardMedia","image","url_c","imageNotFound","Button","size","style","onClick","deleteBookmarkAC","bookmark","actionBookmark","InputBase","placeholder","inputProps","maxLength","disabled","PhotoGallery","galleryContainer","map","item","arr","some","spacing","Pagination","disabledBtnBack","disabledBtnForward","handlePage","action","ButtonGroup","startIcon","textTransform","endIcon","marginLeft","Preloader","CircularProgress","Main","havePhotos","showPhotos","showCommonInfo","mainContainer","Bookmarks","haveBookmarks","bookmarksContainer","Error404","errorCat","to","PATH","Routes","exact","path","render","from","Menu","window","location","pathname","Tabs","newValue","orientation","indicatorColor","textColor","centered","Tab","NavLink","Cloud","left","bottom","Footer","modal","justifyContent","paper","backgroundColor","border","shadows","SleepMode","isSleep","open","setOpen","onMouseMove","Modal","aria-labelledby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","App","timeoutId","setTimeoutId","setIsSleep","setArrIDs","setSleep","arrIDs","forEach","mainBlock","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","filter","auth","persistedState","store","createStore","applyMiddleware","thunk","subscribe","stringify","setItem","saveState","getState","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1ad6fb3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryContainer\":\"PhotoGallery_galleryContainer__3BuD3\"};","import {createMuiTheme} from \"@material-ui/core/styles\";\r\nimport createPalette from \"@material-ui/core/styles/createPalette\";\r\n\r\nexport const theme = createMuiTheme({\r\n    palette: createPalette({\r\n        primary: {\r\n            main: \"#0d47a1\"\r\n        },\r\n        secondary: {\r\n            main: \"#757575\",\r\n            light: \"#fff\",\r\n        }\r\n    })\r\n})","import {makeStyles, createStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1\r\n        },\r\n        title: {\r\n            flexGrow: 1,\r\n            fontSize: 42\r\n        },\r\n        icon:{\r\n            color: theme.palette.secondary.light\r\n        }\r\n    })\r\n)","export type AppReducerActionsType = ReturnType<typeof setAppStatusAC> | ReturnType<typeof showAppErrorAC>\r\nexport type AppStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\n\r\nconst initialState = {\r\n    status: \"idle\" as AppStatusType,\r\n    error: null as string | null,\r\n}\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: AppReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"APP-REDUCER/SET-APP-STATUS\":\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case \"APP-REDUCER/SHOW-APP-ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const setAppStatusAC = (status: AppStatusType) =>\r\n    ({type: \"APP-REDUCER/SET-APP-STATUS\", status} as const)\r\nexport const showAppErrorAC = (error: string | null) =>\r\n    ({type: \"APP-REDUCER/SHOW-APP-ERROR\", error} as const)","import axios from \"axios\";\r\n\r\nconst apiKey = \"a262abafb81f9fda26e4aa05d4eb7aa8\"\r\nconst secret = \"ea342ef2a57cdc32\"\r\nconst instance = axios.create({\r\n    baseURL: \"https://www.flickr.com/services/\",\r\n})\r\n\r\nexport type PhotoType = {\r\n    description: { _content: string }\r\n    farm: number\r\n    height_c: number\r\n    id: string\r\n    isfamily: number\r\n    isfriend: number\r\n    ispublic: number\r\n    owner: string\r\n    secret: string\r\n    server: string\r\n    title: string\r\n    url_c: string\r\n    width_c: number\r\n    tags?: string\r\n}\r\n\r\ntype PhotosType = {\r\n    page: number\r\n    pages: number\r\n    perpage: number\r\n    photo: Array<PhotoType>\r\n    total: number\r\n}\r\n\r\nexport type PhotoResponseType = {\r\n    photos: PhotosType\r\n    stat: string\r\n}\r\n\r\nexport const photoAPI = {\r\n    getPhotos(tags: string, page?: number) {\r\n        return instance.get<PhotoResponseType>(\"rest/?method=flickr.photos.search\",\r\n            {\r\n                params: {\r\n                    api_key: apiKey, privacy_filter: 1, extras: \"description,url_c\",\r\n                    format: 'json', nojsoncallback: 1, per_page: 15, tags, page\r\n                }\r\n            })\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\n//tried to make request for authorization\r\ntype AuthResponseType = {\r\n    oauth_callback_confirmed: boolean\r\n    oauth_token: string\r\n    oauth_token_secret: string\r\n}\r\nexport type AuthExchangeTokenResponseType = {\r\n    fullname: string\r\n    oauth_token: string\r\n    oauth_token_secret: string\r\n    user_nsid: string\r\n    username: string\r\n}\r\nexport const authAPI = {\r\n    getToken(date: number, random: string) {\r\n        return instance.post<AuthResponseType>(\"oauth/request_token?\", {},\r\n            {\r\n                params: {\r\n                    oauth_consumer_key: apiKey, oauth_nonce: random,  oauth_signature_method: \"HMAC-SHA1\",\r\n                    oauth_signature: secret + \"%\" + 26, oauth_timestamp: date,  oauth_version: 1.0,\r\n                    oauth_callback: \"http%3A%2F%2Fandrew9488.github.io/image-finder%2Frequest_token_ready\"\r\n                }\r\n            })\r\n            .then(response => response.data)\r\n    },\r\n    getAuth(oauth_token: string) {\r\n        return instance.get<{ oauth_token: string, oauth_verifier: string }>(\"oauth/authorize?\",\r\n            {\r\n                params: {\r\n                    oauth_token: oauth_token\r\n                }\r\n            })\r\n            .then(response => response.data)\r\n    },\r\n    exchangeToken(date: number, random: string, oauth_verifier: string, oauth_token: string) {\r\n        return instance.post<AuthExchangeTokenResponseType>(\"oauth/access_token\", {},\r\n            {\r\n                params: {\r\n                    oauth_nonce: random, oauth_timestamp: date, oauth_verifier: oauth_verifier,\r\n                    oauth_consumer_key: apiKey, oauth_signature_method: \"HMAC-SHA1\",\r\n                    oauth_version: 1.0, oauth_token: oauth_token, oauth_signature: secret + \"%\" + 26\r\n                }\r\n            })\r\n            .then(response => response.data)\r\n    }\r\n}","import {AppThunkType} from \"./store\";\r\nimport {setAppStatusAC, showAppErrorAC} from \"./app-reducer\";\r\nimport {authAPI, AuthExchangeTokenResponseType} from \"../api/api\";\r\n\r\nexport type AuthReducerActionsType = ReturnType<typeof setUserData>\r\n\r\nconst initialState = {\r\n    data: {\r\n        fullname: null as string | null,\r\n        oauth_token: null as string | null,\r\n        oauth_token_secret: null as string | null,\r\n        user_nsid: null as string | null,\r\n        username: null as string | null\r\n    }\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: AuthReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"AUTH-REDUCER/SET-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                data: action.data\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setUserData = (data: AuthExchangeTokenResponseType) =>\r\n    ({type: \"AUTH-REDUCER/SET-USER-DATA\", data} as const)\r\n\r\n//thunk for authorization request\r\nexport const authTC = (date: number, random: string): AppThunkType => (dispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"))\r\n    authAPI.getToken(date, random)\r\n        .then((response) => {\r\n            dispatch(setAppStatusAC(\"succeeded\"))\r\n            return response\r\n        })\r\n        .then((response) => {\r\n            authAPI.getAuth(response.oauth_token)\r\n                .then((response) => {\r\n                    dispatch(setAppStatusAC(\"succeeded\"))\r\n                    return response\r\n                })\r\n                .then((response) => {\r\n                    const {oauth_token, oauth_verifier} = response\r\n                    authAPI.exchangeToken(date, random, oauth_verifier, oauth_token)\r\n                        .then((response) => {\r\n                            dispatch(setAppStatusAC(\"succeeded\"))\r\n                            dispatch(setUserData(response))\r\n                        })\r\n                })\r\n        })\r\n        .catch((error) => {\r\n            dispatch(showAppErrorAC(error.message))\r\n            dispatch(setAppStatusAC(\"failed\"))\r\n        })\r\n}\r\n","import {AppBar, IconButton, Toolbar, Typography} from '@material-ui/core';\r\nimport {AccountCircle} from '@material-ui/icons';\r\nimport React from 'react';\r\nimport {useStyles} from \"./materialUIstyles\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {authTC} from \"../../bll/auth-reducer\";\r\n\r\nexport const Header: React.FC = React.memo(() => {\r\n\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n\r\n    //generate oauth_timestamp and oauth_nonce for request for token\r\n    const date = new Date().getTime()\r\n    const randomStr = Math.random().toString(36).substring(2)\r\n    const auth = () => {\r\n        dispatch(authTC(date, randomStr))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <Typography variant=\"h1\" className={classes.title}>\r\n                        Image Finder\r\n                    </Typography>\r\n                    <IconButton color=\"inherit\" aria-label=\"icon\" /*onClick={() => auth()}*/>\r\n                        <AccountCircle fontSize=\"large\" className={classes.icon}/>\r\n                    </IconButton>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    )\r\n})","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        maxWidth: 60,\r\n        height: 96\r\n    },\r\n    tab: {\r\n        width: 60,\r\n        minWidth: 60\r\n    }\r\n}))","import {photoAPI, PhotoType} from \"../api/api\";\r\nimport {AppThunkType} from \"./store\";\r\nimport {showAppErrorAC, setAppStatusAC} from \"./app-reducer\";\r\n\r\nexport type PhotosReducerActionsType = ReturnType<typeof setPhotosAC> | ReturnType<typeof clearPhotosAC>\r\n    | ReturnType<typeof setCurrentPageAC> | ReturnType<typeof setNumberOfPagesAC>\r\n\r\n\r\nconst initialState = {\r\n    photos: [] as Array<PhotoType>,\r\n    numberOfPages: null as number | null,\r\n    currentPage: 1,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const photosReducer = (state: InitialStateType = initialState, action: PhotosReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"PHOTOS-REDUCER/SET-PHOTOS\":\r\n            return {\r\n                ...state,\r\n                photos: action.photos\r\n            }\r\n        case \"PHOTOS-REDUCER/CLEAR-PHOTOS\":\r\n            return {\r\n                ...state,\r\n                photos: [],\r\n            }\r\n        case \"PHOTOS-REDUCER/SET-CURRENT-PAGE\":\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage,\r\n            }\r\n        case \"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES\":\r\n            return {\r\n                ...state,\r\n                numberOfPages: action.numberOfPages,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const setPhotosAC = (photos: Array<PhotoType>) =>\r\n    ({type: \"PHOTOS-REDUCER/SET-PHOTOS\", photos} as const)\r\nexport const clearPhotosAC = () =>\r\n    ({type: \"PHOTOS-REDUCER/CLEAR-PHOTOS\"} as const)\r\nexport const setCurrentPageAC = (currentPage: number) =>\r\n    ({type: \"PHOTOS-REDUCER/SET-CURRENT-PAGE\", currentPage} as const)\r\nexport const setNumberOfPagesAC = (numberOfPages: number | null) =>\r\n    ({type: \"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES\", numberOfPages} as const)\r\n\r\n//thunks\r\nexport const getPhotosTC = (value: string, currentPage: number): AppThunkType => async (dispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"))\r\n    try {\r\n        const response = await photoAPI.getPhotos(value, currentPage)\r\n        const {photo, pages} = response.photos\r\n        dispatch(setAppStatusAC(\"succeeded\"))\r\n        dispatch(setPhotosAC(photo))\r\n        dispatch(setNumberOfPagesAC(pages))\r\n    } catch (error) {\r\n        dispatch(showAppErrorAC(error.message))\r\n        dispatch(setAppStatusAC(\"failed\"))\r\n    }\r\n}","import {makeStyles, createStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(() =>\r\n    createStyles({\r\n        root: {\r\n            padding: \"8px 8px\",\r\n            marginBottom: 15,\r\n            width: \"100%\"\r\n        },\r\n        input: {\r\n            width: \"100%\"\r\n        }\r\n    })\r\n)","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {clearPhotosAC, getPhotosTC} from \"../../bll/photos-reducer\";\r\nimport {Paper, TextField} from \"@material-ui/core\";\r\nimport {useDebounce} from \"../../utils/useDebounce\";\r\nimport {AppRootStateType} from \"../../bll/store\";\r\nimport {useStyles} from \"./materialUIstyles\";\r\nimport {showAppErrorAC} from \"../../bll/app-reducer\";\r\n\r\nexport const SearchField: React.FC = React.memo(() => {\r\n\r\n    const currentPage = useSelector<AppRootStateType, number>(state => state.photos.currentPage)\r\n    const error = useSelector<AppRootStateType, string | null>(state => state.app.error)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const [value, setValue] = useState<string>(\"\")\r\n    const debouncedValue = useDebounce(value, 500)\r\n\r\n    const searchChangeHandler = (e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n        setValue(e.currentTarget.value)\r\n        dispatch(showAppErrorAC(null))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(clearPhotosAC())\r\n        if (debouncedValue.trim() !== \"\") {\r\n            dispatch(getPhotosTC(debouncedValue, currentPage))\r\n        }\r\n    }, [debouncedValue, currentPage])\r\n\r\n    return (\r\n        <Paper component=\"form\" className={classes.root}>\r\n            <TextField\r\n                id=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                label=\"Find photos\"\r\n                className={classes.input}\r\n                autoFocus\r\n                onChange={searchChangeHandler}\r\n                value={value}\r\n                error={!!error}\r\n                autoComplete=\"off\"\r\n            />\r\n        </Paper>\r\n    )\r\n})","import {useEffect, useState} from \"react\";\r\n\r\nexport const useDebounce = (value: string, delay: number) => {\r\n    const [debouncedValue, setDebouncedValue] = useState(value)\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => setDebouncedValue(value), 500)\r\n        return () => clearTimeout(timer)\r\n    }, [value, delay])\r\n    return debouncedValue\r\n}","import { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) =>\r\n    createStyles({\r\n        root: {\r\n            minWidth: 240,\r\n            maxWidth: 318,\r\n            width: \"100%\",\r\n            margin: \"10px 20px\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            background: \"#8080801f\",\r\n            \"&:hover\": {\r\n                boxShadow: \"4px 4px 12px rgba(0, 0, 0, 0.4)\"\r\n            }\r\n        },\r\n        title: {\r\n            margin: \"20px 3px 0 3px\",\r\n            fontSize: 16,\r\n            fontWeight: 700,\r\n            textAlign: \"center\"\r\n        },\r\n        media: {\r\n            height: 180,\r\n            width: 275,\r\n            marginTop: 15\r\n        },\r\n        inputContainer: {\r\n            width: \"80%\",\r\n            padding: \"0 5px\",\r\n            borderRadius: 4,\r\n            margin: \"auto auto 10px auto\",\r\n            background: theme.palette.secondary.light\r\n        },\r\n        button: {\r\n            margin: \"10px auto 10px auto\",\r\n            width: 135,\r\n            height: 32,\r\n            color: theme.palette.secondary.light\r\n        },\r\n        tags:{\r\n            margin: \"auto auto 10px auto\",\r\n            fontSize: 16,\r\n            fontWeight: 700,\r\n            textAlign: \"center\"\r\n        }\r\n    })\r\n)","import {AppRootStateType} from \"../bll/store\";\r\n\r\nexport const loadState = (): AppRootStateType | undefined => {\r\n    try {\r\n        const serializedState = localStorage.getItem('bookmarks')\r\n        if (serializedState === null) {\r\n            return undefined\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch (err) {\r\n        return undefined\r\n    }\r\n}\r\n\r\nexport const saveState = (state: AppRootStateType) => {\r\n    try {\r\n        const serializedState = JSON.stringify(state)\r\n        localStorage.setItem('bookmarks', serializedState)\r\n    } catch {\r\n        // ignore write errors\r\n    }\r\n}","import {loadState} from \"../utils/localStorage\";\r\nimport {PhotoType} from \"../api/api\";\r\n\r\nexport type BookmarkReducerActionsType = | ReturnType<typeof addBookmarkAC> | ReturnType<typeof deleteBookmarkAC>\r\n\r\nconst initialState = {\r\n    bookmarks: [] as Array<PhotoType>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst loadedState = loadState()?.bookmarks\r\nlet init: InitialStateType = loadedState ? loadedState : initialState\r\n\r\nexport const bookmarksReducer = (state: InitialStateType = init, action: BookmarkReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"BOOKMARK-REDUCER/ADD-BOOKMARK\":\r\n            return {\r\n                ...state,\r\n                bookmarks: [...state.bookmarks,\r\n                    {...action.bookmark, tags: action.tags}]\r\n            }\r\n        case \"BOOKMARK-REDUCER/DELETE-BOOKMARK\":\r\n            return {\r\n                ...state,\r\n                bookmarks: state.bookmarks.filter((item) => item.id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const addBookmarkAC = (bookmark: PhotoType, tags: string) =>\r\n    ({type: \"BOOKMARK-REDUCER/ADD-BOOKMARK\", bookmark, tags} as const)\r\nexport const deleteBookmarkAC = (id: string,) =>\r\n    ({type: \"BOOKMARK-REDUCER/DELETE-BOOKMARK\", id} as const)\r\n","export default __webpack_public_path__ + \"static/media/imageNotFound.f7e8ab68.png\";","import React, {ChangeEvent, useState} from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport {useStyles} from \"./materialUIStyles\";\r\nimport {addBookmarkAC, deleteBookmarkAC} from \"../../bll/bookmarks-reducer\";\r\nimport imageNotFound from \"../../assets/images/imageNotFound.png\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {PhotoType} from \"../../api/api\";\r\n\r\ntype PhotoPropsType = {\r\n    photo: PhotoType\r\n    isBookmark: boolean\r\n}\r\n\r\nexport const Photo: React.FC<PhotoPropsType> = React.memo(({photo, isBookmark}) => {\r\n\r\n    const styles = useStyles()\r\n    const dispatch = useDispatch()\r\n    const [value, setValue] = useState<string>(\"\")\r\n    const isBookmarksGallery = !!photo.tags\r\n    const colorButton = isBookmark ? \"#757575\" : \"#e53935\"\r\n\r\n    const actionBookmark = (photo: PhotoType, id: string) => {\r\n        isBookmark\r\n            ? dispatch(deleteBookmarkAC(id))\r\n            : dispatch(addBookmarkAC(photo, value ? value : \"No tags\"))\r\n        setValue(\"\")\r\n    }\r\n\r\n    const tagsChangeHandler = (e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n        setValue(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <Card className={styles.root}>\r\n            <Typography variant=\"h5\" component=\"h1\" className={styles.title}>\r\n                {photo.title || photo.title.length > 30 ? photo.title.slice(0, 30) : \"No title\"}\r\n            </Typography>\r\n            <CardMedia\r\n                title={photo.title}\r\n                className={styles.media}\r\n                image={photo.url_c ? photo.url_c : imageNotFound}\r\n            />\r\n            <Button\r\n                size=\"small\"\r\n                style={{background: colorButton}}\r\n                className={styles.button}\r\n                onClick={() => actionBookmark(photo, photo.id)}\r\n            >\r\n                {isBookmark ? \"Remove it!\" : \"Bookmark it!\"}\r\n            </Button>\r\n            {isBookmarksGallery\r\n                ? <Typography variant=\"h5\" component=\"h1\" className={styles.tags}>\r\n                    {photo.tags}\r\n                </Typography>\r\n                : <InputBase\r\n                    className={styles.inputContainer}\r\n                    placeholder=\"some tags?\"\r\n                    inputProps={{\"aria-label\": \"some tags\", maxLength: 25}}\r\n                    onChange={tagsChangeHandler}\r\n                    value={value}\r\n                    disabled={isBookmark}\r\n                />}\r\n        </Card>\r\n    )\r\n})\r\n\r\n","import React from \"react\";\r\nimport {Photo} from \"../Photo/Photo\";\r\nimport styles from \"./PhotoGallery.module.css\"\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../bll/store\";\r\nimport {PhotoType} from \"../../api/api\";\r\nimport {isBookmarksArr} from \"../../utils/helpers/isBookmarksArr\";\r\n\r\ntype PhotoGalleryPropsType = {\r\n    photos: Array<PhotoType>\r\n}\r\n\r\nexport const PhotoGallery: React.FC<PhotoGalleryPropsType> = React.memo(({photos}) => {\r\n\r\n    const bookmarks = useSelector<AppRootStateType, Array<PhotoType>>(state => state.bookmarks.bookmarks)\r\n\r\n    return (\r\n        <div className={styles.galleryContainer}>\r\n            {photos.map(item => {\r\n                return <Photo key={item.id} photo={item} isBookmark={isBookmarksArr(item.id, bookmarks)}/>\r\n            })}\r\n        </div>\r\n    )\r\n})\r\n","import {PhotoType} from \"../../api/api\";\r\n\r\nexport const isBookmarksArr = (id: string, arr: Array<PhotoType>) => {\r\n    return arr && arr.some(item => item.id === id)\r\n}","import {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        alignItems: \"flex-end\",\r\n        flexDirection: \"column\",\r\n        \"& > *\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    button: {\r\n        color: \"gray\",\r\n        \"&:hover\": {\r\n            background: \"#80808059\",\r\n        },\r\n    },\r\n}))","import React from \"react\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport {Button, ButtonGroup} from \"@material-ui/core\";\r\nimport {useStyles} from \"./materialUIstyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../bll/store\";\r\nimport {setCurrentPageAC} from \"../../bll/photos-reducer\";\r\n\r\ntype ActionPaginationType = \"back\" | \"forward\"\r\n\r\nexport const Pagination: React.FC = React.memo(() => {\r\n\r\n    const currentPage = useSelector<AppRootStateType, number>(state => state.photos.currentPage)\r\n    const numberOfPages = useSelector<AppRootStateType, number | null>(state => state.photos.numberOfPages)\r\n    const dispatch = useDispatch()\r\n\r\n    const classes = useStyles()\r\n    const disabledBtnBack = currentPage === 1\r\n    const disabledBtnForward = currentPage === numberOfPages\r\n\r\n    const handlePage = (action: ActionPaginationType) => {\r\n        if (action === \"back\") {\r\n            dispatch(setCurrentPageAC(currentPage - 1))\r\n        } else {\r\n            dispatch(setCurrentPageAC(currentPage + 1))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <ButtonGroup aria-label=\"outlined primary button group\">\r\n                <Button\r\n                    className={classes.button}\r\n                    startIcon={<ArrowBackIosIcon/>}\r\n                    disabled={disabledBtnBack}\r\n                    onClick={() => handlePage(\"back\")}\r\n                >\r\n                    Back\r\n                </Button>\r\n                <Button\r\n                    style={{color: \"gray\", textTransform: \"capitalize\"}}\r\n                    disabled={true}\r\n                >\r\n                    Page {currentPage} of {numberOfPages}\r\n                </Button>\r\n                <Button\r\n                    className={classes.button}\r\n                    endIcon={<ArrowForwardIosIcon/>}\r\n                    disabled={disabledBtnForward}\r\n                    onClick={() => handlePage(\"forward\")}\r\n                >\r\n                    Forward\r\n                </Button>\r\n            </ButtonGroup>\r\n        </div>\r\n    )\r\n})","import {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex',\r\n            '& > * + *': {\r\n                marginLeft: theme.spacing(2),\r\n\r\n            },\r\n            margin: \"auto auto\",\r\n        },\r\n    })\r\n)","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {useStyles} from \"./materialUIstyles\";\r\n\r\n\r\nexport const Preloader: React.FC = React.memo(() => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CircularProgress style={{width: \"100px\", height: \"100px\"}}/>\r\n        </div>\r\n    )\r\n})","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {clearPhotosAC, setCurrentPageAC} from \"../../bll/photos-reducer\";\r\nimport {showAppErrorAC} from \"../../bll/app-reducer\";\r\nimport {AppRootStateType} from \"../../bll/store\";\r\nimport {SearchField} from \"../../components/SearchField/SearchField\";\r\nimport {PhotoGallery} from \"../../components/PhotoGalery/PhotoGallery\";\r\nimport styles from \"./Main.module.css\"\r\nimport {Pagination} from \"../../components/Pagination/Pagination\";\r\nimport {Preloader} from \"../../components/Preloader/Preloader\";\r\nimport {PhotoType} from \"../../api/api\";\r\n\r\nexport const Main: React.FC = React.memo(() => {\r\n\r\n    const photos = useSelector<AppRootStateType, Array<PhotoType>>(state => state.photos.photos)\r\n    const error = useSelector<AppRootStateType, string | null>(state => state.app.error)\r\n    const status = useSelector<AppRootStateType, string | null>(state => state.app.status)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(setCurrentPageAC(1))\r\n            dispatch(clearPhotosAC())\r\n            dispatch(showAppErrorAC(null))\r\n        }\r\n    }, [])\r\n\r\n    const havePhotos = photos.length !== 0\r\n    const showPhotos = !error && havePhotos\r\n    const showCommonInfo = status !== \"loading\" && !error && !havePhotos\r\n\r\n    return (\r\n        <div className={styles.mainContainer}>\r\n            <SearchField/>\r\n            {status === \"loading\" && <Preloader/>}\r\n            {showCommonInfo &&\r\n            <p className={styles.message}>\r\n                No images here. Would you try to search for anything else?\r\n            </p>\r\n            }\r\n            {!showPhotos\r\n                ? <p className={styles.error}>{error}</p>\r\n                : <>\r\n                    <Pagination/>\r\n                    <PhotoGallery photos={photos}/>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {PhotoGallery} from \"../../components/PhotoGalery/PhotoGallery\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../bll/store\";\r\nimport styles from \"./Bookmarks.module.css\";\r\nimport {PhotoType} from \"../../api/api\";\r\n\r\nexport const Bookmarks: React.FC = React.memo(() => {\r\n\r\n    const bookmarks = useSelector<AppRootStateType, Array<PhotoType>>(state => state.bookmarks.bookmarks)\r\n    const haveBookmarks = bookmarks && bookmarks.length !== 0\r\n\r\n    return (\r\n        <div className={styles.bookmarksContainer}>\r\n            {haveBookmarks\r\n                ? <PhotoGallery photos={bookmarks}/>\r\n                : <p className={styles.message}>You haven’t added a bookmark yet.</p>}\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {PATH} from \"../Routes/Routes\";\r\nimport style from \"./Error404.module.css\"\r\n\r\n\r\nexport const Error404: React.FC = React.memo(() => {\r\n\r\n    return (\r\n        <div className={style.error}>\r\n            <div>ERROR 404</div>\r\n            <div>The cat couldn't find a page!</div>\r\n            <div className={style.errorCat}>—ฅ/ᐠ.̫ .ᐟ\\ฅ—</div>\r\n            <nav>\r\n                <div className={style.item}>\r\n                    <NavLink to={PATH.main}>go home</NavLink>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {Main} from \"../../features/Main/Main\";\r\nimport {Bookmarks} from \"../../features/Bookmarks/Bookmarks\";\r\nimport {Error404} from \"../Error404/Error404\";\r\n\r\nexport const PATH = {\r\n    main: \"/\",\r\n    bookmarks: \"/bookmarks\",\r\n    error: \"/404\",\r\n}\r\n\r\nexport const Routes: React.FC = React.memo(() => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path={PATH.main} render={() => <Main/>}/>\r\n            <Route path={PATH.bookmarks} render={() => <Bookmarks/>}/>\r\n            <Route path={PATH.error} render={() => <Error404/>}/>\r\n            <Redirect from={\"*\"} to={PATH.error}/>\r\n        </Switch>\r\n    )\r\n})","import {Paper, Tab, Tabs} from '@material-ui/core';\r\nimport React from 'react';\r\nimport {Bookmarks, Cloud} from \"@material-ui/icons\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport {useStyles} from \"./materialUIstyles\";\r\nimport {PATH} from \"../Routes/Routes\";\r\n\r\nexport const Menu: React.FC = React.memo(() => {\r\n\r\n    const classes = useStyles()\r\n    const [value, setValue] = React.useState(window.location.pathname === \"/bookmarks\" ? 1 : 0)\r\n\r\n    const handleChange = (e: React.ChangeEvent<{}>, newValue: number) => {\r\n        setValue(newValue)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper>\r\n                <Tabs\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    orientation=\"vertical\"\r\n                    indicatorColor=\"primary\"\r\n                    textColor=\"primary\"\r\n                    aria-label=\"menu\"\r\n                    centered={true}\r\n                >\r\n                    <Tab\r\n                        aria-label=\"main\"\r\n                        className={classes.tab}\r\n                        component={NavLink}\r\n                        to={PATH.main}\r\n                        icon={<Cloud/>}\r\n                    />\r\n                    <Tab\r\n                        aria-label=\"bookmarks\"\r\n                        className={classes.tab}\r\n                        component={NavLink}\r\n                        to={PATH.bookmarks}\r\n                        icon={<Bookmarks/>}\r\n                    />\r\n                </Tabs>\r\n            </Paper>\r\n        </div>\r\n    )\r\n})","import {createStyles, makeStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(() =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1,\r\n            position: \"fixed\",\r\n            left: 0,\r\n            bottom: 0,\r\n            width: \"100%\"\r\n        },\r\n        title: {\r\n            flexGrow: 1,\r\n            fontSize: 26\r\n        }\r\n    })\r\n)","import {AppBar, Toolbar, Typography} from '@material-ui/core';\r\nimport React from 'react';\r\nimport {useStyles} from \"./materialUIstyles\";\r\n\r\nexport const Footer: React.FC = React.memo(() => {\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root} >\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <Typography variant=\"h4\" className={classes.title}>\r\n                        Copyrights\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    )\r\n})","import {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        modal: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        paper: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            border: '2px solid #000',\r\n            boxShadow: theme.shadows[5],\r\n            padding: theme.spacing(2, 4, 2),\r\n        },\r\n    })\r\n)","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport {useStyles} from \"./materialUIstyles\";\r\n\r\ntype SleepModePropsType = {\r\n    isSleep: boolean\r\n}\r\n\r\nexport const SleepMode: React.FC<SleepModePropsType> = React.memo(({isSleep}) => {\r\n\r\n    const classes = useStyles()\r\n    const [open, setOpen] = React.useState(isSleep)\r\n\r\n    return (\r\n        <div onMouseMove={() => setOpen(!open)}>\r\n            <Modal\r\n                aria-labelledby=\"modal-title\"\r\n                className={classes.modal}\r\n                open={open}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className={classes.paper}>\r\n                        <h2 id=\"modal-title\">Sleep mode has activated...zzzZZZ</h2>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </div>\r\n    )\r\n})","import React, {useState} from 'react';\nimport './App.module.css';\nimport {MuiThemeProvider} from \"@material-ui/core\";\nimport {theme} from \"../utils/themeMaterialUI\";\nimport {Header} from '../components/Header/Header';\nimport {Menu} from \"../components/Menu/Menu\";\nimport styles from \"./App.module.css\"\nimport {Footer} from \"../components/Footer/Footer\";\nimport {Routes} from \"../components/Routes/Routes\";\nimport {setSleepMode} from \"../utils/helpers/setSleepMode\";\nimport {SleepMode} from \"../components/SleepMode/SleepMode\";\n\nexport const App: React.FC = React.memo(() => {\n\n        const [timeoutId, setTimeoutId] = useState<Array<NodeJS.Timeout>>([])\n        const [isSleep, setIsSleep] = useState<boolean>(false)\n\n        const onMouseMoveHandler = () => setSleepMode(timeoutId, setTimeoutId, setIsSleep)\n\n        return (\n            <div className={styles.App} onMouseMove={onMouseMoveHandler}>\n                <MuiThemeProvider theme={theme}>\n                    <Header/>\n                    <div className={styles.mainBlock}>\n                        <Menu/>\n                        <Routes/>\n                    </div>\n                    <Footer/>\n                </MuiThemeProvider>\n                {isSleep && <SleepMode isSleep={isSleep}/>}\n            </div>\n        )\n    }\n)\n\n","export const setSleepMode = (arrIDs: Array<NodeJS.Timeout>, setArrIDs: ([]) => void, setSleep: (isSleep: boolean) => void) => {\r\n    if (arrIDs.length > 0) {\r\n        arrIDs.forEach((value) => {\r\n            window.clearTimeout(value)\r\n        })\r\n        setArrIDs([])\r\n        setSleep(false)\r\n    }\r\n    setArrIDs([...arrIDs, setTimeout(() => {\r\n        setSleep(true)\r\n    }, 60000)\r\n    ])\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {photosReducer, PhotosReducerActionsType} from \"./photos-reducer\";\r\nimport thunk, {ThunkAction} from \"redux-thunk\";\r\nimport {BookmarkReducerActionsType, bookmarksReducer} from \"./bookmarks-reducer\";\r\nimport {appReducer, AppReducerActionsType} from \"./app-reducer\";\r\nimport {loadState, saveState} from \"../utils/localStorage\";\r\nimport {authReducer, AuthReducerActionsType} from \"./auth-reducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    photos: photosReducer,\r\n    bookmarks: bookmarksReducer,\r\n    app: appReducer,\r\n    auth: authReducer\r\n})\r\n\r\nconst persistedState = loadState()\r\nexport const store = createStore(rootReducer, persistedState, applyMiddleware(thunk))\r\n\r\nstore.subscribe(() => {\r\n    saveState(store.getState())\r\n})\r\n\r\ntype ActionsType = BookmarkReducerActionsType | PhotosReducerActionsType\r\n    | AppReducerActionsType | AuthReducerActionsType\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\nexport type AppThunkType = ThunkAction<void, AppRootStateType, unknown, ActionsType>","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './app/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./bll/store\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2eKsv\",\"mainBlock\":\"App_mainBlock__17OU2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Main_mainContainer__OBll4\",\"message\":\"Main_message__39QV1\",\"error\":\"Main_error__2oPx3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error404_error__2WC86\",\"errorCat\":\"Error404_errorCat__Z0r5E\",\"item\":\"Error404_item__-jbT3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookmarksContainer\":\"Bookmarks_bookmarksContainer__KBgKI\",\"message\":\"Bookmarks_message__1jukE\"};"],"sourceRoot":""}