(this["webpackJsonpsearch-images"]=this["webpackJsonpsearch-images"]||[]).push([[0],{103:function(e,t,a){e.exports={galleryContainer:"PhotoGallery_galleryContainer__3BuD3"}},120:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(10),i=a.n(c),s=(a(120),a(21)),u=a(55),l=a.n(u),b=a(212),j=a(107),d=a(99),m=a.n(d),O=Object(j.a)({palette:m()({primary:{main:"#0d47a1"},secondary:{main:"#757575",light:"#fff"}})}),h=a(198),f=a(200),p=a(201),g=a(202),x=a(203),k=a(196),v=a(216),E=Object(k.a)((function(e){return Object(v.a)({root:{flexGrow:1},title:{flexGrow:1,fontSize:42},icon:{color:e.palette.secondary.light}})})),R=a(13),_=a(11),S={status:"idle",error:null},C=function(e){return{type:"APP-REDUCER/SET-APP-STATUS",status:e}},P=function(e){return{type:"APP-REDUCER/SHOW-APP-ERROR",error:e}},y=a(101),T="a262abafb81f9fda26e4aa05d4eb7aa8",A="ea342ef2a57cdc32",N=a.n(y).a.create({baseURL:"https://www.flickr.com/services/"}),w=function(e,t){return N.get("rest/?method=flickr.photos.search",{params:{api_key:T,privacy_filter:1,extras:"description,url_c",format:"json",nojsoncallback:1,per_page:15,tags:e,page:t}}).then((function(e){return e.data}))},D=function(e,t){return N.post("oauth/request_token?oauth_nonce=".concat(t),{},{params:{oauth_timestamp:e,oauth_consumer_key:T,oauth_signature_method:"HMAC-SHA1",oauth_version:1,oauth_signature:A,oauth_callback:"https://andrew9488.github.io/image-finder"}}).then((function(e){return e.data}))},U=function(e){return N.get("oauth/authorize?oauth_token=".concat(e)).then((function(e){return e.data}))},B=function(e,t,a,n){return N.post("oauth/access_token?oauth_nonce=".concat(t),{},{params:{oauth_timestamp:e,oauth_verifier:a,oauth_consumer_key:T,oauth_signature_method:"HMAC-SHA1",oauth_version:1,oauth_token:n,oauth_signature:A}}).then((function(e){return e.data}))},H={data:{fullname:null,oauth_token:null,oauth_token_secret:null,user_nsid:null,username:null}},M=a(2),K=o.a.memo((function(){var e=E(),t=Object(R.b)(),a=(new Date).getTime(),n=Math.random().toString(36).substring(2),r=function(){t(function(e,t){return function(a){a(C("loading")),D(e,t).then((function(e){return a(C("succeeded")),e})).then((function(n){U(n.oauth_token).then((function(e){return a(C("succeeded")),e})).then((function(n){var r=n.oauth_token,o=n.oauth_verifier;B(e,t,o,r).then((function(e){a(C("succeeded")),a({type:"AUTH-REDUCER/SET-USER-DATA",data:e})}))}))})).catch((function(e){a(P(e.message)),a(C("failed"))}))}}(a,n))};return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(h.a,{position:"static",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)(p.a,{variant:"h1",className:e.title,children:"Image Finder"}),Object(M.jsx)(g.a,{color:"inherit","aria-label":"icon",onClick:function(){return r()},children:Object(M.jsx)(x.a,{fontSize:"large",className:e.icon})})]})})})})),F=a(109),z=a(214),I=a(208),G=a(209),L=a(210),W=a(33),J=Object(k.a)((function(){return{root:{flexGrow:1,maxWidth:60,height:96},tab:{width:60,minWidth:60}}})),Z=a(14),q=a(75),Q=a.n(q),V=a(102),Y={photos:[],numberOfPages:null,currentPage:1},X=function(e){return{type:"PHOTOS-REDUCER/SET-CURRENT-PAGE",currentPage:e}},$=a(213),ee=Object(k.a)((function(){return Object(v.a)({root:{padding:"8px 8px",marginBottom:15,width:"100%"},input:{width:"100%"}})})),te=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.currentPage})),t=Object(R.c)((function(e){return e.app.error})),a=ee(),n=Object(R.b)(),o=Object(r.useState)(""),c=Object(s.a)(o,2),i=c[0],u=c[1],l=function(e,t){var a=Object(r.useState)(e),n=Object(s.a)(a,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){return c(e)}),500);return function(){return clearTimeout(t)}}),[e,t]),o}(i,500);return Object(r.useEffect)((function(){n({type:"PHOTOS-REDUCER/CLEAR-PHOTOS"}),""!==l.trim()&&n(function(e,t){return function(){var a=Object(V.a)(Q.a.mark((function a(n){var r,o,c,i;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(C("loading")),a.prev=1,a.next=4,w(e,t);case 4:r=a.sent,o=r.photos,c=o.photo,i=o.pages,n(C("succeeded")),n({type:"PHOTOS-REDUCER/SET-PHOTOS",photos:c}),n({type:"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES",numberOfPages:i}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n(P(a.t0.message)),n(C("failed"));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(l,e))}),[l,e]),Object(M.jsx)(F.a,{component:"form",className:a.root,children:Object(M.jsx)($.a,{id:"outlined-basic",variant:"outlined",label:"Find photos",className:a.input,autoFocus:!0,onChange:function(e){u(e.currentTarget.value),n(P(null))},value:i,error:!!t,autoComplete:"off"})})})),ae=a(204),ne=a(205),re=a(163),oe=a(217),ce=Object(k.a)((function(e){return Object(v.a)({root:{minWidth:240,maxWidth:318,width:"100%",margin:"10px 20px",display:"flex",flexDirection:"column",alignItems:"center",background:"#8080801f","&:hover":{boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.4)"}},title:{margin:"20px 3px 0 3px",fontSize:16,fontWeight:700,textAlign:"center"},media:{height:180,width:275,marginTop:15},inputContainer:{width:"80%",padding:"0 5px",borderRadius:4,margin:"auto auto 10px auto",background:e.palette.secondary.light},button:{margin:"10px auto 10px auto",width:135,height:32,color:e.palette.secondary.light},tags:{margin:"auto auto 10px auto",fontSize:16,fontWeight:700,textAlign:"center"}})})),ie=a(63),se=function(){try{var e=localStorage.getItem("bookmarks");if(null===e)return;return JSON.parse(e)}catch(t){return}},ue=null===(n=se())||void 0===n?void 0:n.bookmarks,le=ue||{bookmarks:[]},be=a.p+"static/media/imageNotFound.f7e8ab68.png",je=o.a.memo((function(e){var t=e.photo,a=e.isBookmark,n=ce(),o=Object(R.b)(),c=Object(r.useState)(""),i=Object(s.a)(c,2),u=i[0],l=i[1],b=!!t.tags,j=a?"#757575":"#e53935";return Object(M.jsxs)(ae.a,{className:n.root,children:[Object(M.jsx)(p.a,{variant:"h5",component:"h1",className:n.title,children:t.title||t.title.length>30?t.title.slice(0,30):"No title"}),Object(M.jsx)(ne.a,{title:t.title,className:n.media,image:t.url_c?t.url_c:be}),Object(M.jsx)(re.a,{size:"small",style:{background:j},className:n.button,onClick:function(){return function(e,t){o(a?function(e){return{type:"BOOKMARK-REDUCER/DELETE-BOOKMARK",id:e}}(t):{type:"BOOKMARK-REDUCER/ADD-BOOKMARK",bookmark:e,tags:u||"No tags"}),l("")}(t,t.id)},children:a?"Remove it!":"Bookmark it!"}),b?Object(M.jsx)(p.a,{variant:"h5",component:"h1",className:n.tags,children:t.tags}):Object(M.jsx)(oe.a,{className:n.inputContainer,placeholder:"some tags?",inputProps:{"aria-label":"some tags",maxLength:25},onChange:function(e){l(e.currentTarget.value)},value:u,disabled:a})]})})),de=a(103),me=a.n(de),Oe=o.a.memo((function(e){var t=e.photos,a=Object(R.c)((function(e){return e.bookmarks.bookmarks}));return Object(M.jsx)("div",{className:me.a.galleryContainer,children:t.map((function(e){return Object(M.jsx)(je,{photo:e,isBookmark:(t=e.id,n=a,n&&n.some((function(e){return e.id===t})))},e.id);var t,n}))})})),he=a(65),fe=a.n(he),pe=a(104),ge=a.n(pe),xe=a(105),ke=a.n(xe),ve=a(206),Ee=Object(k.a)((function(e){return{root:{display:"flex",alignItems:"flex-end",flexDirection:"column","& > *":{margin:e.spacing(1)}},button:{color:"gray","&:hover":{background:"#80808059"}}}})),Re=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.currentPage})),t=Object(R.c)((function(e){return e.photos.numberOfPages})),a=Object(R.b)(),n=Ee(),r=1===e,o=e===t,c=function(t){a(X("back"===t?e-1:e+1))};return Object(M.jsx)("div",{className:n.root,children:Object(M.jsxs)(ve.a,{"aria-label":"outlined primary button group",children:[Object(M.jsx)(re.a,{className:n.button,startIcon:Object(M.jsx)(ge.a,{}),disabled:r,onClick:function(){return c("back")},children:"Back"}),Object(M.jsxs)(re.a,{style:{color:"gray",textTransform:"capitalize"},disabled:!0,children:["Page ",e," of ",t]}),Object(M.jsx)(re.a,{className:n.button,endIcon:Object(M.jsx)(ke.a,{}),disabled:o,onClick:function(){return c("forward")},children:"Forward"})]})})})),_e=a(207),Se=Object(k.a)((function(e){return Object(v.a)({root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},margin:"auto auto"}})})),Ce=o.a.memo((function(){var e=Se();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(_e.a,{style:{width:"100px",height:"100px"}})})})),Pe=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.photos})),t=Object(R.c)((function(e){return e.app.error})),a=Object(R.c)((function(e){return e.app.status})),n=Object(R.b)();Object(r.useEffect)((function(){return function(){n(X(1)),n({type:"PHOTOS-REDUCER/CLEAR-PHOTOS"}),n(P(null))}}),[]);var o=0!==e.length,c=!t&&o,i="loading"!==a&&!t&&!o;return Object(M.jsxs)("div",{className:fe.a.mainContainer,children:[Object(M.jsx)(te,{}),"loading"===a&&Object(M.jsx)(Ce,{}),i&&Object(M.jsx)("p",{className:fe.a.message,children:"No images here. Would you try to search for anything else?"}),c?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Re,{}),Object(M.jsx)(Oe,{photos:e})]}):Object(M.jsx)("p",{className:fe.a.error,children:t})]})})),ye=a(76),Te=a.n(ye),Ae=o.a.memo((function(){var e=Object(R.c)((function(e){return e.bookmarks.bookmarks})),t=e&&0!==e.length;return Object(M.jsx)("div",{className:Te.a.bookmarksContainer,children:t?Object(M.jsx)(Oe,{photos:e}):Object(M.jsx)("p",{className:Te.a.message,children:"You haven\u2019t added a bookmark yet."})})})),Ne=a(66),we=a.n(Ne),De=o.a.memo((function(){return Object(M.jsxs)("div",{className:we.a.error,children:[Object(M.jsx)("div",{children:"ERROR 404"}),Object(M.jsx)("div",{children:"The cat couldn't find a page!"}),Object(M.jsx)("div",{className:we.a.errorCat,children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"}),Object(M.jsx)("nav",{children:Object(M.jsx)("div",{className:we.a.item,children:Object(M.jsx)(W.b,{to:Ue.main,children:"go home"})})})]})})),Ue={main:"/",bookmarks:"/bookmarks",error:"/404"},Be=o.a.memo((function(){return Object(M.jsxs)(Z.d,{children:[Object(M.jsx)(Z.b,{exact:!0,path:Ue.main,render:function(){return Object(M.jsx)(Pe,{})}}),Object(M.jsx)(Z.b,{path:Ue.bookmarks,render:function(){return Object(M.jsx)(Ae,{})}}),Object(M.jsx)(Z.b,{path:Ue.error,render:function(){return Object(M.jsx)(De,{})}}),Object(M.jsx)(Z.a,{from:"*",to:Ue.error})]})})),He=o.a.memo((function(){var e=J(),t=o.a.useState("/bookmarks"===window.location.pathname?1:0),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(F.a,{children:Object(M.jsxs)(z.a,{value:n,onChange:function(e,t){r(t)},orientation:"vertical",indicatorColor:"primary",textColor:"primary","aria-label":"menu",centered:!0,children:[Object(M.jsx)(I.a,{"aria-label":"main",className:e.tab,component:W.b,to:Ue.main,icon:Object(M.jsx)(G.a,{})}),Object(M.jsx)(I.a,{"aria-label":"bookmarks",className:e.tab,component:W.b,to:Ue.bookmarks,icon:Object(M.jsx)(L.a,{})})]})})})})),Me=Object(k.a)((function(){return Object(v.a)({root:{flexGrow:1,position:"fixed",left:0,bottom:0,width:"100%"},title:{flexGrow:1,fontSize:26}})})),Ke=o.a.memo((function(){var e=Me();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(h.a,{position:"static",children:Object(M.jsx)(f.a,{children:Object(M.jsx)(p.a,{variant:"h4",className:e.title,children:"Copyrights"})})})})})),Fe=a(215),ze=a(211),Ie=a(164),Ge=Object(k.a)((function(e){return Object(v.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,2)}})})),Le=o.a.memo((function(e){var t=e.isSleep,a=Ge(),n=o.a.useState(t),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(M.jsx)("div",{onMouseMove:function(){return i(!c)},children:Object(M.jsx)(Fe.a,{"aria-labelledby":"modal-title",className:a.modal,open:c,closeAfterTransition:!0,BackdropComponent:ze.a,BackdropProps:{timeout:500},children:Object(M.jsx)(Ie.a,{in:c,children:Object(M.jsx)("div",{className:a.paper,children:Object(M.jsx)("h2",{id:"modal-title",children:"Sleep mode has activated...zzzZZZ"})})})})})})),We=o.a.memo((function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),c=Object(s.a)(o,2),i=c[0],u=c[1];return Object(M.jsxs)("div",{className:l.a.App,onMouseMove:function(){return t=n,r=u,(e=a).length>0&&(e.forEach((function(e){window.clearTimeout(e)})),t([]),r(!1)),void t([].concat(Object(ie.a)(e),[setTimeout((function(){r(!0)}),6e4)]));var e,t,r},children:[Object(M.jsxs)(b.a,{theme:O,children:[Object(M.jsx)(K,{}),Object(M.jsxs)("div",{className:l.a.mainBlock,children:[Object(M.jsx)(He,{}),Object(M.jsx)(Be,{})]}),Object(M.jsx)(Ke,{})]}),i&&Object(M.jsx)(Le,{isSleep:i})]})})),Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,218)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))},Ze=a(67),qe=a(106),Qe=Object(Ze.b)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PHOTOS-REDUCER/SET-PHOTOS":return Object(_.a)(Object(_.a)({},e),{},{photos:t.photos});case"PHOTOS-REDUCER/CLEAR-PHOTOS":return Object(_.a)(Object(_.a)({},e),{},{photos:[]});case"PHOTOS-REDUCER/SET-CURRENT-PAGE":return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPage});case"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES":return Object(_.a)(Object(_.a)({},e),{},{numberOfPages:t.numberOfPages});default:return e}},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOOKMARK-REDUCER/ADD-BOOKMARK":return Object(_.a)(Object(_.a)({},e),{},{bookmarks:[].concat(Object(ie.a)(e.bookmarks),[Object(_.a)(Object(_.a)({},t.bookmark),{},{tags:t.tags})])});case"BOOKMARK-REDUCER/DELETE-BOOKMARK":return Object(_.a)(Object(_.a)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return e.id!==t.id}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP-REDUCER/SET-APP-STATUS":return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case"APP-REDUCER/SHOW-APP-ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH-REDUCER/SET-USER-DATA":return Object(_.a)(Object(_.a)({},e),{},{data:t.data});default:return e}}}),Ve=se(),Ye=Object(Ze.c)(Qe,Ve,Object(Ze.a)(qe.a));Ye.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("bookmarks",t)}catch(a){}}(Ye.getState())})),i.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(W.a,{children:Object(M.jsx)(R.a,{store:Ye,children:Object(M.jsx)(We,{})})})}),document.getElementById("root")),Je()},55:function(e,t,a){e.exports={App:"App_App__2eKsv",mainBlock:"App_mainBlock__17OU2"}},65:function(e,t,a){e.exports={mainContainer:"Main_mainContainer__OBll4",message:"Main_message__39QV1",error:"Main_error__2oPx3"}},66:function(e,t,a){e.exports={error:"Error404_error__2WC86",errorCat:"Error404_errorCat__Z0r5E",item:"Error404_item__-jbT3"}},76:function(e,t,a){e.exports={bookmarksContainer:"Bookmarks_bookmarksContainer__KBgKI",message:"Bookmarks_message__1jukE"}}},[[161,1,2]]]);
//# sourceMappingURL=main.8cd0183d.chunk.js.map