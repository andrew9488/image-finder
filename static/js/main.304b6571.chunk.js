(this["webpackJsonpsearch-images"]=this["webpackJsonpsearch-images"]||[]).push([[0],{109:function(e,t,a){e.exports={galleryContainer:"PhotoGallery_galleryContainer__3BuD3"}},135:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(12),i=a.n(c),s=(a(135),a(31)),u=a(59),l=a.n(u),b=a(222),j=a(117),m=a(105),d=a.n(m),O=Object(j.a)({palette:d()({primary:{main:"#0d47a1"},secondary:{main:"#757575",light:"#fff"}})}),h=a(206),p=a(208),f=a(121),g=a(209),x=a(210),k=a(204),v=a(227),E=Object(k.a)((function(e){return Object(v.a)({root:{flexGrow:1},title:{flexGrow:1,fontSize:42},icon:{color:e.palette.secondary.light}})})),R=a(13),_=a(10),S={status:"idle",error:null},y=function(e){return{type:"APP-REDUCER/SET-APP-STATUS",status:e}},C=function(e){return{type:"APP-REDUCER/SHOW-APP-ERROR",error:e}},P=a(107),w="a262abafb81f9fda26e4aa05d4eb7aa8",A="ea342ef2a57cdc32",T=a.n(P).a.create({baseURL:"https://www.flickr.com/services/"}),N=function(e,t){return T.get("rest/?method=flickr.photos.search",{params:{api_key:w,privacy_filter:1,extras:"description,url_c",format:"json",nojsoncallback:1,per_page:15,tags:e,page:t}}).then((function(e){return e.data}))},D=function(e,t){return T.post("oauth/request_token?",{},{params:{oauth_consumer_key:w,oauth_nonce:t,oauth_signature_method:"HMAC-SHA1",oauth_signature:A+"%26",oauth_timestamp:e,oauth_version:1,oauth_callback:"http%3A%2F%2Fandrew9488.github.io/image-finder%2Frequest_token_ready"}}).then((function(e){return e.data}))},U=function(e){return T.get("oauth/authorize?",{params:{oauth_token:e}}).then((function(e){return e.data}))},B=function(e,t,a,r){return T.post("oauth/access_token",{},{params:{oauth_nonce:t,oauth_timestamp:e,oauth_verifier:a,oauth_consumer_key:w,oauth_signature_method:"HMAC-SHA1",oauth_version:1,oauth_token:r,oauth_signature:A+"%26"}}).then((function(e){return e.data}))},H=a(2),M=o.a.memo((function(){var e=E(),t=Object(R.b)(),a=(new Date).getTime(),r=Math.random().toString(36).substring(2),n=function(){t(function(e,t){return function(a){a(y("loading")),D(e,t).then((function(e){return a(y("succeeded")),e})).then((function(r){U(r.oauth_token).then((function(e){return a(y("succeeded")),e})).then((function(r){var n=r.oauth_token,o=r.oauth_verifier;B(e,t,o,n).then((function(e){a(y("succeeded")),a({type:"AUTH-REDUCER/SET-USER-DATA",data:e})}))}))})).catch((function(e){a(C(e.message)),a(y("failed"))}))}}(a,r))};return Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(h.a,{position:"static",children:Object(H.jsxs)(p.a,{children:[Object(H.jsx)(f.a,{variant:"h1",className:e.title,children:"Image Finder"}),Object(H.jsx)(g.a,{color:"inherit","aria-label":"icon",onClick:function(){return n()},children:Object(H.jsx)(x.a,{fontSize:"large",className:e.icon})})]})})})})),F=a(120),K=a(225),W=a(219),I=a(220),G=a(221),L=a(40),z=Object(k.a)((function(){return{root:{flexGrow:1,maxWidth:60,height:96},tab:{width:60,minWidth:60}}})),q=a(15),J=a(83),Z=a.n(J),V=a(108),Y={photos:[],numberOfPages:null,currentPage:1},Q=function(e){return{type:"PHOTOS-REDUCER/SET-CURRENT-PAGE",currentPage:e}},$=a(223),X=Object(k.a)((function(){return Object(v.a)({root:{padding:"8px 8px",marginBottom:15,width:"100%"},input:{width:"100%"}})})),ee=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.currentPage})),t=Object(R.c)((function(e){return e.app.error})),a=X(),r=Object(R.b)(),o=Object(n.useState)(""),c=Object(s.a)(o,2),i=c[0],u=c[1],l=function(e,t){var a=Object(n.useState)(e),r=Object(s.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){return c(e)}),500);return function(){return clearTimeout(t)}}),[e,t]),o}(i,500);return Object(n.useEffect)((function(){r({type:"PHOTOS-REDUCER/CLEAR-PHOTOS"}),""!==i.trim()&&r(function(e,t){return function(){var a=Object(V.a)(Z.a.mark((function a(r){var n,o,c,i;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(y("loading")),a.prev=1,a.next=4,N(e,t);case 4:n=a.sent,o=n.photos,c=o.photo,i=o.pages,r(y("succeeded")),r({type:"PHOTOS-REDUCER/SET-PHOTOS",photos:c}),r({type:"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES",numberOfPages:i}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),r(C(a.t0.message)),r(y("failed"));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(i,e))}),[l,e]),Object(H.jsx)(F.a,{component:"form",className:a.root,children:Object(H.jsx)($.a,{id:"outlined-basic",variant:"outlined",label:"Find photos",className:a.input,onChange:function(e){u(e.currentTarget.value),r(C(null))},value:i,error:!!t,autoComplete:"off"})})})),te=a(211),ae=a(212),re=a(177),ne=a(228),oe=Object(k.a)((function(e){return Object(v.a)({root:{minWidth:240,maxWidth:318,width:"100%",margin:"10px 20px",display:"flex",flexDirection:"column",alignItems:"center",background:"#8080801f","&:hover":{boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.4)"}},title:{margin:"20px 3px 0 3px",fontSize:16,fontWeight:700,textAlign:"center"},media:{height:180,width:275,marginTop:15},inputContainer:{width:"80%",padding:"0 5px",borderRadius:4,margin:"auto auto 10px auto",background:e.palette.secondary.light},button:{margin:"10px auto 10px auto",width:135,height:32,color:e.palette.secondary.light},tags:{margin:"auto auto 10px auto",fontSize:16,fontWeight:700,textAlign:"center"}})})),ce=a(118),ie=function(){try{var e=localStorage.getItem("bookmarks");if(null===e)return;return JSON.parse(e)}catch(t){return}},se=null===(r=ie())||void 0===r?void 0:r.bookmarks,ue=se||{bookmarks:[]},le=a.p+"static/media/imageNotFound.f7e8ab68.png",be=o.a.memo((function(e){var t=e.photo,a=e.isBookmark,r=oe(),o=Object(R.b)(),c=Object(n.useState)(""),i=Object(s.a)(c,2),u=i[0],l=i[1],b=!!t.tags,j=a?"#757575":"#e53935";return Object(H.jsxs)(te.a,{className:r.root,children:[Object(H.jsx)(f.a,{variant:"h5",component:"h1",className:r.title,children:t.title||t.title.length>30?t.title.slice(0,30):"No title"}),Object(H.jsx)(ae.a,{title:t.title,className:r.media,image:t.url_c?t.url_c:le}),Object(H.jsx)(re.a,{size:"small",style:{background:j},className:r.button,onClick:function(){return function(e,t){o(a?function(e){return{type:"BOOKMARK-REDUCER/DELETE-BOOKMARK",id:e}}(t):{type:"BOOKMARK-REDUCER/ADD-BOOKMARK",bookmark:e,tags:u}),l("")}(t,t.id)},children:a?"Remove it!":"Bookmark it!"}),b?Object(H.jsx)(f.a,{variant:"h5",component:"h1",className:r.tags,children:t.tags?t.tags:"No tags"}):Object(H.jsx)(ne.a,{className:r.inputContainer,placeholder:"some tags?",inputProps:{"aria-label":"some tags",maxLength:25},onChange:function(e){l(e.currentTarget.value)},value:u,disabled:a})]})})),je=a(109),me=a.n(je),de=o.a.memo((function(e){var t=e.photos,a=Object(R.c)((function(e){return e.bookmarks.bookmarks}));return Object(H.jsx)("div",{className:me.a.galleryContainer,children:t.map((function(e){return Object(H.jsx)(be,{photo:e,isBookmark:(t=e.id,r=a,r&&r.some((function(e){return e.id===t})))},e.id);var t,r}))})})),Oe=a(70),he=a.n(Oe),pe=a(110),fe=a.n(pe),ge=a(111),xe=a.n(ge),ke=a(213),ve=Object(k.a)((function(e){return{root:{display:"flex",alignItems:"flex-end",flexDirection:"column","& > *":{margin:e.spacing(1)}},button:{color:"gray","&:hover":{background:"#80808059"}}}})),Ee=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.currentPage})),t=Object(R.c)((function(e){return e.photos.numberOfPages})),a=Object(R.b)(),r=ve(),n=1===e,o=e===t,c=function(t){a(Q("back"===t?e-1:e+1))};return Object(H.jsx)("div",{className:r.root,children:Object(H.jsxs)(ke.a,{"aria-label":"outlined primary button group",children:[Object(H.jsx)(re.a,{className:r.button,startIcon:Object(H.jsx)(fe.a,{}),disabled:n,onClick:function(){return c("back")},children:"Back"}),Object(H.jsxs)(re.a,{style:{color:"gray",textTransform:"capitalize"},disabled:!0,children:["Page ",e," of ",t]}),Object(H.jsx)(re.a,{className:r.button,endIcon:Object(H.jsx)(xe.a,{}),disabled:o,onClick:function(){return c("forward")},children:"Forward"})]})})})),Re=a(214),_e=Object(k.a)((function(e){return Object(v.a)({root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},margin:"auto auto"}})})),Se=o.a.memo((function(){var e=_e();return Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(Re.a,{style:{width:"100px",height:"100px"}})})})),ye=o.a.memo((function(){var e=Object(R.c)((function(e){return e.photos.photos})),t=Object(R.c)((function(e){return e.app.error})),a=Object(R.c)((function(e){return e.app.status})),r=Object(R.b)();Object(n.useEffect)((function(){return function(){r(Q(1)),r({type:"PHOTOS-REDUCER/CLEAR-PHOTOS"}),r(C(null))}}),[]);var o=0!==e.length,c=!t&&o,i="loading"!==a&&!t&&!o;return Object(H.jsxs)("div",{className:he.a.mainContainer,children:[Object(H.jsx)(ee,{}),"loading"===a&&Object(H.jsx)(Se,{}),i&&Object(H.jsx)("p",{className:he.a.message,children:"No images here. Would you try to search for anything else?"}),c?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Ee,{}),Object(H.jsx)(de,{photos:e})]}):Object(H.jsx)("p",{className:he.a.error,children:t})]})})),Ce=a(84),Pe=a.n(Ce),we=o.a.memo((function(){var e=Object(R.c)((function(e){return e.bookmarks.bookmarks})),t=e&&0!==e.length;return Object(H.jsx)("div",{className:Pe.a.bookmarksContainer,children:t?Object(H.jsx)(de,{photos:e}):Object(H.jsx)("p",{className:Pe.a.message,children:"You haven\u2019t added a bookmark yet."})})})),Ae=a(71),Te=a.n(Ae),Ne=o.a.memo((function(){return Object(H.jsxs)("div",{className:Te.a.error,children:[Object(H.jsx)("div",{children:"ERROR 404"}),Object(H.jsx)("div",{children:"The cat couldn't find a page!"}),Object(H.jsx)("div",{className:Te.a.errorCat,children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"}),Object(H.jsx)("nav",{children:Object(H.jsx)("div",{className:Te.a.item,children:Object(H.jsx)(L.b,{to:Je.main,children:"go home"})})})]})})),De=a(215),Ue=a(216),Be=a(229),He=a(217),Me=a(226),Fe=a(224),Ke=a(218),We=a(114),Ie=a.n(We),Ge=a(116),Le=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ze=o.a.memo((function(){var e=Le(),t=Object(Ge.a)({initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e){t.resetForm()},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<4&&(t.password="Must be 4 characters or more"):t.password="Required",t}});return Object(H.jsxs)(De.a,{component:"main",maxWidth:"xs",children:[Object(H.jsx)(Ue.a,{}),Object(H.jsxs)("div",{className:e.paper,children:[Object(H.jsx)(Be.a,{className:e.avatar,children:Object(H.jsx)(Ie.a,{})}),Object(H.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(H.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:t.handleSubmit,children:[Object(H.jsx)($.a,Object(_.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"off",autoFocus:!0},t.getFieldProps("email"))),t.touched.email&&t.errors.email?Object(H.jsx)("div",{style:{color:"red"},children:t.errors.email}):"",Object(H.jsx)($.a,Object(_.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"off"},t.getFieldProps("password"))),t.touched.password&&t.errors.password?Object(H.jsx)("div",{style:{color:"red"},children:t.errors.password}):"",Object(H.jsx)(He.a,{control:Object(H.jsx)(Me.a,Object(_.a)(Object(_.a)({checked:t.values.rememberMe},t.getFieldProps("rememberMe")),{},{color:"primary"})),label:"Remember me"}),Object(H.jsx)(re.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"})]})]}),Object(H.jsx)(Fe.a,{mt:8,children:Object(H.jsx)(qe,{})})]})})),qe=o.a.memo((function(){return Object(H.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(H.jsx)(Ke.a,{color:"inherit",href:"https://github.com/andrew9488/image-finder",target:"_blank",rel:"noopener noreferrer",children:"Website"})," ",(new Date).getFullYear(),"."]})})),Je={main:"/",bookmarks:"/bookmarks",error:"/404",login:"/login"},Ze=o.a.memo((function(){return Object(H.jsxs)(q.d,{children:[Object(H.jsx)(q.b,{exact:!0,path:Je.main,render:function(){return Object(H.jsx)(ye,{})}}),Object(H.jsx)(q.b,{path:Je.bookmarks,render:function(){return Object(H.jsx)(we,{})}}),Object(H.jsx)(q.b,{path:Je.login,render:function(){return Object(H.jsx)(ze,{})}}),Object(H.jsx)(q.b,{path:Je.error,render:function(){return Object(H.jsx)(Ne,{})}}),Object(H.jsx)(q.a,{from:"*",to:Je.error})]})})),Ve=o.a.memo((function(){var e=z(),t=o.a.useState("/bookmarks"===window.location.pathname?1:0),a=Object(s.a)(t,2),r=a[0],n=a[1];return Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(F.a,{children:Object(H.jsxs)(K.a,{value:r,onChange:function(e,t){n(t)},orientation:"vertical",indicatorColor:"primary",textColor:"primary","aria-label":"menu",centered:!0,children:[Object(H.jsx)(W.a,{"aria-label":"main",className:e.tab,component:L.b,to:Je.main,icon:Object(H.jsx)(I.a,{})}),Object(H.jsx)(W.a,{"aria-label":"bookmarks",className:e.tab,component:L.b,to:Je.bookmarks,icon:Object(H.jsx)(G.a,{})})]})})})})),Ye=Object(k.a)((function(){return Object(v.a)({root:{flexGrow:1,position:"fixed",left:0,bottom:0,width:"100%"},title:{flexGrow:1,fontSize:26}})})),Qe=o.a.memo((function(){var e=Ye();return Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(h.a,{position:"static",children:Object(H.jsx)(p.a,{children:Object(H.jsx)(f.a,{variant:"h4",className:e.title,children:"Copyrights"})})})})})),$e=o.a.memo((function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2);t[0],t[1];Object(n.useEffect)((function(){}));return Object(H.jsx)("div",{className:l.a.App,children:Object(H.jsxs)(b.a,{theme:O,children:[Object(H.jsx)(M,{}),Object(H.jsxs)("div",{className:l.a.mainBlock,children:[Object(H.jsx)(Ve,{}),Object(H.jsx)(Ze,{})]}),Object(H.jsx)(Qe,{})]})})})),Xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,231)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)}))},et=a(72),tt=a(115),at=Object(et.b)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PHOTOS-REDUCER/SET-PHOTOS":return Object(_.a)(Object(_.a)({},e),{},{photos:t.photos});case"PHOTOS-REDUCER/CLEAR-PHOTOS":return Object(_.a)(Object(_.a)({},e),{},{photos:[]});case"PHOTOS-REDUCER/SET-CURRENT-PAGE":return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPage});case"PHOTOS-REDUCER/SET-NUMBERS-OF-PAGES":return Object(_.a)(Object(_.a)({},e),{},{numberOfPages:t.numberOfPages});default:return e}},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOOKMARK-REDUCER/ADD-BOOKMARK":return Object(_.a)(Object(_.a)({},e),{},{bookmarks:[].concat(Object(ce.a)(e.bookmarks),[Object(_.a)(Object(_.a)({},t.bookmark),{},{tags:t.tags})])});case"BOOKMARK-REDUCER/DELETE-BOOKMARK":return Object(_.a)(Object(_.a)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return e.id!==t.id}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP-REDUCER/SET-APP-STATUS":return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case"APP-REDUCER/SHOW-APP-ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error});default:return e}}}),rt=ie(),nt=Object(et.c)(at,rt,Object(et.a)(tt.a));nt.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("bookmarks",t)}catch(a){}}(nt.getState())})),i.a.render(Object(H.jsx)(o.a.StrictMode,{children:Object(H.jsx)(L.a,{children:Object(H.jsx)(R.a,{store:nt,children:Object(H.jsx)($e,{})})})}),document.getElementById("root")),Xe()},59:function(e,t,a){e.exports={App:"App_App__2eKsv",mainBlock:"App_mainBlock__17OU2"}},70:function(e,t,a){e.exports={mainContainer:"Main_mainContainer__OBll4",message:"Main_message__39QV1",error:"Main_error__2oPx3"}},71:function(e,t,a){e.exports={error:"Error404_error__2WC86",errorCat:"Error404_errorCat__Z0r5E",item:"Error404_item__-jbT3"}},84:function(e,t,a){e.exports={bookmarksContainer:"Bookmarks_bookmarksContainer__KBgKI",message:"Bookmarks_message__1jukE"}}},[[175,1,2]]]);
//# sourceMappingURL=main.304b6571.chunk.js.map